<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>almart.in</title><link>http://almart.in/</link><description></description><atom:link href="http://almart.in/feeds%5Candrew-martin.rss.xml" rel="self"></atom:link><lastBuildDate>Fri, 10 Apr 2015 00:00:00 -0400</lastBuildDate><item><title>Pelican and R markdown: an update</title><link>http://almart.in/pelican-with-rmd.html</link><description>&lt;p&gt;I leaned heavily on a great post from &lt;a href="https://rjweiss.github.io/"&gt;Rebecca Weiss&lt;/a&gt; titled &lt;a href="https://rjweiss.github.io/articles/2014_08_25/testing-rmarkdown-integration/"&gt;&lt;em&gt;"How easy is it to use R markdown and knitr with pelican?"&lt;/em&gt;&lt;/a&gt; to get Pelican/knitr integration up and running.  Rebecca wrote her post in 2014 in a Mac/Unix environment, so I thought that I would contribute an update, and some errata for Windows users.&lt;/p&gt;
&lt;p&gt;If you're landing here from Google, a quick overview &amp;amp; definition of some terms:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://docs.getpelican.com/en/3.5.0/"&gt;Pelican&lt;/a&gt; is a static site generator written in Python.  If you've ever seen the &lt;a href="http://jekyllrb.com/docs/github-pages/"&gt;Github pages&lt;/a&gt; tutorials that use Jekyll, Pelican is a great alternative if you want to stay in the Python universe.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://yihui.name/knitr/demo/minimal/"&gt;knitr&lt;/a&gt; is a report generation package for R (especially &lt;a href="http://www.rstudio.com/"&gt;R Studio&lt;/a&gt;) that makes it easy to mix words, simple formatting and R code.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It would be great to be able to write up an .Rmd, run &lt;code&gt;pelican content&lt;/code&gt;, and have everything just show up on the web, with syntax highlighting, inline images, etc.  That's what Pelican + knitr lets us do!&lt;/p&gt;
&lt;h1&gt;behind the scenes&lt;/h1&gt;
&lt;p&gt;A few quick words about what is happening - the &lt;code&gt;rmd_reader&lt;/code&gt; plugin depends on the python &lt;a href="http://rpy.sourceforge.net/rpy2/doc-2.1/html/"&gt;&lt;code&gt;rpy2&lt;/code&gt;&lt;/a&gt; package, which exposes an interface from Python into R.  &lt;code&gt;rpy2&lt;/code&gt; turns the .Rmd into an &lt;a href="http://tex.stackexchange.com/questions/47943/how-to-use-the-aux-file"&gt;.aux file&lt;/a&gt; &lt;em&gt;(things get a little hand-wavy for me here - I am team html/markdown/mathjax)&lt;/em&gt; and then calls &lt;code&gt;knit()&lt;/code&gt; in R to generate a markdown file.&lt;/p&gt;
&lt;h1&gt;general thoughts&lt;/h1&gt;
&lt;p&gt;1) Pelican does not like the way RStudio sets up the document &lt;a href="http://rmarkdown.rstudio.com/developer_document_templates.html"&gt;skeleton&lt;/a&gt;.  Specifically, the &lt;code&gt;---&lt;/code&gt; characters used to gate the yaml-like metadata from the content appear to be a no-no.  As far as I can tell, this isn't in the docs for rmd_reader - you just kind of figure it out by trial and error.  You'll know that this is your issue if you are seeing errors like &lt;code&gt;ERROR: Skipping .\sample-rmd.Rmd: could not find information about 'title'&lt;/code&gt;.  Look at my example in #3 above, or &lt;a href="https://raw.githubusercontent.com/wilsonfreitas/blog.aboutwilson/master/content/bmf-curve-interpolator.Rmd"&gt;Wilson's&lt;/a&gt; example here. &lt;/p&gt;
&lt;p&gt;2) It took me a second to figure out &lt;a href="https://github.com/getpelican/pelican-plugins/tree/master/rmd_reader#plotting"&gt;&lt;code&gt;pelican.publish=TRUE&lt;/code&gt;&lt;/a&gt;.  If you're writing in RStudio and want to see local output, set that to FALSE.  But if you are ready to run pelican content and publish to the web, that should be TRUE.&lt;/p&gt;
&lt;p&gt;3) Rebecca has some great discussion about figure paths, and how to cajole knitr into putting image assets into the right place.  I may go down that road eventually - folder separation between categories might be nice.  For now, though, I am going with the &lt;a href="https://github.com/almartin82/almart.in-source/tree/master/content"&gt;One Big Folder&lt;/a&gt; strategy, and am throwing a numeric prefix onto the text files so that posts will sort sequentially.  That didn't require any tinkering with &lt;code&gt;fig.path&lt;/code&gt; -- so if you are trying to get up and running, my advice would be to start by writing an .Rmd in &lt;code&gt;content/&lt;/code&gt; with no special &lt;code&gt;ARTICLE_URL&lt;/code&gt; or &lt;code&gt;ARTICLE_SAVE_AS&lt;/code&gt; paths, get your publishing workflow nailed down, and then start to re-organize your content - otherwise it could be tricky to identify what's a problem with rpy2/knitr dispatch, and what's simple an issue with filenames/&lt;code&gt;fig.path&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;4) Not strictly .Rmd related, but a note on feed generation.  It's not always immediately clear which &lt;code&gt;pelicanconf.py&lt;/code&gt; parameters are True/False, and which ones need a text value.  If you set &lt;code&gt;FEED_ALL_ATOM=True&lt;/code&gt;, Pelican will throw a &lt;code&gt;CRITICAL: 'bool' object has no attribute 'lstrip'&lt;/code&gt; error.&lt;/p&gt;
&lt;h1&gt;this was kind of a pain on Windows&lt;/h1&gt;
&lt;p&gt;Yeah.  You'll never believe it.  Some things that came up:&lt;/p&gt;
&lt;p&gt;1) Make sure you have a &lt;a href="http://stackoverflow.com/questions/17573988/r-home-error-with-rpy2"&gt;&lt;code&gt;R_HOME&lt;/code&gt;&lt;/a&gt; environment variable set up, or else your &lt;code&gt;rpy2&lt;/code&gt; install might be pointing at the oldest version of R on your system.  Symptoms that this is happening: you'll get knitr errors when you try to process the .Rmd, because knitr might not be installed.&lt;/p&gt;
&lt;p&gt;2) There was a slight problem with the way &lt;code&gt;rmd_reader&lt;/code&gt; was reading pathnames - &lt;code&gt;c:\\Users...&lt;/code&gt; was getting interpreted as a Unicode character.  I pushed a &lt;a href="https://github.com/getpelican/pelican-plugins/pull/464"&gt;patch&lt;/a&gt; the plugin library that should address this, if the pull request is accepted.&lt;/p&gt;
&lt;p&gt;3) Graphics drivers were a pain point.  Drivers that were working in RStudio (png, svg) were not working when called via the rpy2 interface.  Not totally sure what the story is here, but I ended up throwing &lt;code&gt;opts_chunk$set(dev='Cairo_svg')&lt;/code&gt; into my rmd_reader block -- take a look at the &lt;a href="https://raw.githubusercontent.com/almartin82/almart.in-source/849d26d53631523b10c18bb77c08135ed0d7d6b1/content/sample-rmd.Rmd"&gt;example&lt;/a&gt; if you want to see it in action.&lt;/p&gt;
&lt;p&gt;Overall, though, I have to say that I'm thrilled about having a straightforward .Rmd publishing tool.  &lt;a href="https://rpubs.com/"&gt;rpubs&lt;/a&gt; is great, but having the ability to publish .Rmds to my own site is exciting.&lt;/p&gt;
&lt;h1&gt;enhancement ideas&lt;/h1&gt;
&lt;p&gt;One thing that would be helpful would be a pelican_rmd template, following the &lt;a href="(http://rmarkdown.rstudio.com/developer_document_templates.html)"&gt;tutorials&lt;/a&gt; for creating custom knitr templates on RStudio.  That would fix the metadata problem, and it could have a nice block with all the &lt;code&gt;hook_content&lt;/code&gt; stuff all ready to go.  If I find some time while this is still fresh, I'd like to add some of this back to Wilson's readme for rmd_reader.  &lt;strong&gt;Shiny&lt;/strong&gt; support is also something to look into.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Martin</dc:creator><pubDate>Fri, 10 Apr 2015 00:00:00 -0400</pubDate><guid>tag:almart.in,2015-04-10:pelican-with-rmd.html</guid></item><item><title>Working with NJASK data in R: part 1 in a series.</title><link>http://almart.in/reading-njask-data-1.html</link><description>&lt;p&gt;New Jersey has switched over to the PARCC assessment, but from roughly 2005-2014 New Jersey took the "New Jersey Assessment of Skills and Knowledge," or more simply "the NJASK."&lt;/p&gt;
&lt;p&gt;This data is a bit of a pain to work with.  There's a page for each &lt;a href="http://www.state.nj.us/education/schools/achievement/14/"&gt;year&lt;/a&gt; of assessment data, and for each year there's a &lt;a href="http://www.state.nj.us/education/schools/achievement/14/njask8/"&gt;page&lt;/a&gt; per grade level.  But wait!  It gets better!  If you download the Excel spreadsheet for each grade level (helpfully titled &lt;code&gt;state_summary.xls&lt;/code&gt; for &lt;em&gt;every&lt;/em&gt; year and grade!), you'll find &lt;strong&gt;5&lt;/strong&gt; tabs per file, because there are simply too many demographic/subject subgroups for Excel 2003 to handle.&lt;/p&gt;
&lt;p&gt;&lt;img src="/content/static_images/04_njask_excel.png"&gt;&lt;/p&gt;
&lt;p&gt;I would like to say that I never go down this road, but looking at my downloads folder, I'm apparently on &lt;code&gt;state_summary(15).xls&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;Yuck.&lt;/p&gt;
&lt;h1&gt;there must be a better way&lt;/h1&gt;
&lt;p&gt;Fortunately the state publishes &lt;a href="http://www.state.nj.us/education/schools/achievement/14/njask8/state_summary.txt"&gt;fixed width&lt;/a&gt; versions of these files that you can work with.  They're a little intimidating at first, but they're actually (relatively) easy to read into R.&lt;/p&gt;
&lt;h2&gt;&lt;i class="fa fa-music"&gt;&lt;/i&gt; welcome to the &lt;a href="https://barryrowlingson.github.io/hadleyverse/#1"&gt;Hadleyverse &lt;/a&gt;&lt;i class="fa fa-music"&gt;&lt;/i&gt;&lt;/h2&gt;
&lt;p&gt;We can use the &lt;code&gt;read_fwf()&lt;/code&gt; function from &lt;a href="https://github.com/hadley/readr"&gt;&lt;code&gt;hadley/readr&lt;/code&gt;&lt;/a&gt; to quickly read fixed width files into R.&lt;/p&gt;
&lt;p&gt;First let's load some libraries:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;readr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Warning: package &amp;#39;readr&amp;#39; was built under R version 3.1.3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;dplyr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## 
## Attaching package: &amp;#39;dplyr&amp;#39;
## 
## The following object is masked from &amp;#39;package:stats&amp;#39;:
## 
##     filter
## 
## The following objects are masked from &amp;#39;package:base&amp;#39;:
## 
##     intersect, setdiff, setequal, union
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;sqldf&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Warning: package &amp;#39;sqldf&amp;#39; was built under R version 3.1.3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Loading required package: gsubfn
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Warning: package &amp;#39;gsubfn&amp;#39; was built under R version 3.1.3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Loading required package: proto
## Loading required package: RSQLite
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Warning: package &amp;#39;RSQLite&amp;#39; was built under R version 3.1.3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Loading required package: DBI
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;reshape2&lt;span class="p"&gt;)&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;magrittr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;sample_file &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://www.state.nj.us/education/schools/achievement/14/njask8/state_summary.txt&amp;quot;&lt;/span&gt;

njask14_gr8 &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; readr&lt;span class="o"&gt;::&lt;/span&gt;read_fwf&lt;span class="p"&gt;(&lt;/span&gt;
  file &lt;span class="o"&gt;=&lt;/span&gt; sample_file&lt;span class="p"&gt;,&lt;/span&gt;
  col_positions &lt;span class="o"&gt;=&lt;/span&gt; readr&lt;span class="o"&gt;::&lt;/span&gt;fwf_empty&lt;span class="p"&gt;(&lt;/span&gt;file&lt;span class="o"&gt;=&lt;/span&gt;sample_file&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
head&lt;span class="p"&gt;(&lt;/span&gt;njask14_gr8&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Source: local data frame [6 x 244]
## 
##                  X1          X2                        X3 X4      X5  X6
## 1                ST                                           104616 308
## 2                NS                                            85260 218
## 3                SN                                            19356  90
## 4                 A                                            16599  77
## 5 250100   MONMOUTH ASBURY PARK                            A Y   129   1
## 6 250100070MONMOUTH ASBURY PARK ASBURY PARK MIDDLE SCHOOL  A Y   128   1
## Variables not shown: X7 (chr), X8 (chr), X9 (chr), X10 (chr), X11 (chr),
##   X12 (chr), X13 (chr), X14 (chr), X15 (chr), X16 (chr), X17 (chr), X18
##   (chr), X19 (chr), X20 (chr), X21 (chr), X22 (chr), X23 (chr), X24 (chr),
##   X25 (chr), X26 (chr), X27 (chr), X28 (chr), X29 (chr), X30 (chr), X31
##   (chr), X32 (chr), X33 (chr), X34 (chr), X35 (chr), X36 (chr), X37 (chr),
##   X38 (chr), X39 (chr), X40 (chr), X41 (chr), X42 (chr), X43 (chr), X44
##   (chr), X45 (chr), X46 (chr), X47 (chr), X48 (chr), X49 (chr), X50 (chr),
##   X51 (chr), X52 (chr), X53 (chr), X54 (chr), X55 (chr), X56 (chr), X57
##   (chr), X58 (chr), X59 (chr), X60 (chr), X61 (chr), X62 (chr), X63 (chr),
##   X64 (chr), X65 (chr), X66 (chr), X67 (chr), X68 (chr), X69 (chr), X70
##   (chr), X71 (chr), X72 (chr), X73 (chr), X74 (chr), X75 (chr), X76 (chr),
##   X77 (chr), X78 (chr), X79 (chr), X80 (chr), X81 (chr), X82 (chr), X83
##   (chr), X84 (chr), X85 (chr), X86 (chr), X87 (chr), X88 (chr), X89 (chr),
##   X90 (chr), X91 (chr), X92 (chr), X93 (chr), X94 (chr), X95 (chr), X96
##   (chr), X97 (chr), X98 (chr), X99 (chr), X100 (chr), X101 (chr), X102
##   (chr), X103 (chr), X104 (chr), X105 (chr), X106 (chr), X107 (chr), X108
##   (chr), X109 (chr), X110 (chr), X111 (chr), X112 (chr), X113 (chr), X114
##   (chr), X115 (chr), X116 (chr), X117 (chr), X118 (chr), X119 (chr), X120
##   (chr), X121 (chr), X122 (chr), X123 (chr), X124 (chr), X125 (chr), X126
##   (chr), X127 (chr), X128 (chr), X129 (chr), X130 (chr), X131 (chr), X132
##   (chr), X133 (chr), X134 (chr), X135 (chr), X136 (chr), X137 (chr), X138
##   (chr), X139 (chr), X140 (chr), X141 (chr), X142 (chr), X143 (chr), X144
##   (chr), X145 (chr), X146 (chr), X147 (chr), X148 (chr), X149 (chr), X150
##   (chr), X151 (chr), X152 (chr), X153 (chr), X154 (chr), X155 (chr), X156
##   (chr), X157 (chr), X158 (chr), X159 (chr), X160 (chr), X161 (chr), X162
##   (chr), X163 (chr), X164 (chr), X165 (chr), X166 (chr), X167 (chr), X168
##   (chr), X169 (chr), X170 (chr), X171 (chr), X172 (chr), X173 (chr), X174
##   (chr), X175 (chr), X176 (chr), X177 (chr), X178 (chr), X179 (chr), X180
##   (chr), X181 (chr), X182 (chr), X183 (chr), X184 (chr), X185 (chr), X186
##   (chr), X187 (chr), X188 (chr), X189 (chr), X190 (chr), X191 (chr), X192
##   (chr), X193 (chr), X194 (chr), X195 (chr), X196 (chr), X197 (chr), X198
##   (chr), X199 (chr), X200 (chr), X201 (chr), X202 (chr), X203 (chr), X204
##   (chr), X205 (chr), X206 (chr), X207 (chr), X208 (chr), X209 (chr), X210
##   (chr), X211 (chr), X212 (chr), X213 (chr), X214 (chr), X215 (chr), X216
##   (chr), X217 (chr), X218 (chr), X219 (chr), X220 (chr), X221 (chr), X222
##   (chr), X223 (chr), X224 (chr), X225 (chr), X226 (chr), X227 (chr), X228
##   (chr), X229 (chr), X230 (chr), X231 (chr), X232 (int), X233 (int), X234
##   (int), X235 (int), X236 (int), X237 (int), X238 (int), X239 (int), X240
##   (int), X241 (int), X242 (int), X243 (int), X244 (int)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So that's a start, but that gives us a bunch of weird unhelpful column names.  Also, there's a bunch of weird * characters.&lt;/p&gt;
&lt;h1&gt;this part is unfortunate&lt;/h1&gt;
&lt;p&gt;For whatever reason NJ has seen fit to publish the crucial &lt;em&gt;definitions&lt;/em&gt; (column headers) for that data in an Excel spreadsheet.  Never in my life have I seen something &lt;em&gt;more&lt;/em&gt; clearly suited for JSON.  &lt;/p&gt;
&lt;p&gt;&lt;img src="/content/static_images/04_njask_layout.png"&gt;&lt;/p&gt;
&lt;p&gt;I think we can do some dplyr tricks and recover the nested aspects of this data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;layout &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; readr&lt;span class="o"&gt;::&lt;/span&gt;read_csv&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/content/datasets/njask_layout.csv&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error: &amp;#39;/content/datasets/njask_layout.csv&amp;#39; does not exist.
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;head&lt;span class="p"&gt;(&lt;/span&gt;layout&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;##                                                                       
## 1 function (mat, widths = rep.int(1, ncol(mat)), heights = rep.int(1, 
## 2     nrow(mat)), respect = FALSE)                                    
## 3 {                                                                   
## 4     storage.mode(mat) &amp;lt;- &amp;quot;integer&amp;quot;                                  
## 5     mat &amp;lt;- as.matrix(mat)                                           
## 6     if (!is.logical(respect)) {
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;names&lt;span class="p"&gt;(&lt;/span&gt;layout&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; tolower&lt;span class="p"&gt;(&lt;/span&gt;gsub&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; names&lt;span class="p"&gt;(&lt;/span&gt;layout&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in names(layout) &amp;lt;- tolower(gsub(&amp;quot; &amp;quot;, &amp;quot;_&amp;quot;, names(layout))): names() applied to a non-vector
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In Excel I created a simple column to test if a column was a 'spanning' column (basically, was it merged across multiple columns).  First we'll separate those 'spanners' from the non-spanners.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;spanners &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; dplyr&lt;span class="o"&gt;::&lt;/span&gt;filter&lt;span class="p"&gt;(&lt;/span&gt;layout&lt;span class="p"&gt;,&lt;/span&gt; structural&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in UseMethod(&amp;quot;filter_&amp;quot;): no applicable method for &amp;#39;filter_&amp;#39; applied to an object of class &amp;quot;function&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;keepers &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; dplyr&lt;span class="o"&gt;::&lt;/span&gt;filter&lt;span class="p"&gt;(&lt;/span&gt;layout&lt;span class="p"&gt;,&lt;/span&gt; structural&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in UseMethod(&amp;quot;filter_&amp;quot;): no applicable method for &amp;#39;filter_&amp;#39; applied to an object of class &amp;quot;function&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;head&lt;span class="p"&gt;(&lt;/span&gt;spanners&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in head(spanners): object &amp;#39;spanners&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To match spanners with keepers, we can do a SQL join (dplyr doesn't join on inequalities &lt;a href="https://github.com/hadley/dplyr/issues/557"&gt;yet&lt;/a&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;with_spanners &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; sqldf&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;
&lt;span class="s"&gt;  SELECT keepers.*&lt;/span&gt;
&lt;span class="s"&gt;        ,spanners.data_type AS spanner&lt;/span&gt;
&lt;span class="s"&gt;        ,spanners.field_length AS spanner_length&lt;/span&gt;
&lt;span class="s"&gt;  FROM keepers&lt;/span&gt;
&lt;span class="s"&gt;  LEFT OUTER JOIN spanners&lt;/span&gt;
&lt;span class="s"&gt;    ON keepers.field_start_position &amp;gt;= spanners.field_start_position&lt;/span&gt;
&lt;span class="s"&gt;   AND keepers.field_end_position &amp;lt;= spanners.field_end_position&lt;/span&gt;
&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Loading required package: tcltk
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in sqliteSendQuery(con, statement, bind.data): error in statement: no such table: keepers
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;with_spanners&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; c&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in eval(expr, envir, enclos): object &amp;#39;with_spanners&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So we have fields matched with their parents, but the sql join leaves us with long data, and we really need wide data (one row per field).  Let's reshape!&lt;/p&gt;
&lt;p&gt;First let's tag each row with a row number:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;with_rn &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; with_spanners &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  dplyr&lt;span class="o"&gt;::&lt;/span&gt;group_by&lt;span class="p"&gt;(&lt;/span&gt;
     field_start_position&lt;span class="p"&gt;,&lt;/span&gt; field_end_position&lt;span class="p"&gt;,&lt;/span&gt; field_length&lt;span class="p"&gt;,&lt;/span&gt; 
     data_type&lt;span class="p"&gt;,&lt;/span&gt; description&lt;span class="p"&gt;,&lt;/span&gt; comments&lt;span class="p"&gt;,&lt;/span&gt; valid_values  
  &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  mutate&lt;span class="p"&gt;(&lt;/span&gt;
    rn &lt;span class="o"&gt;=&lt;/span&gt; order&lt;span class="p"&gt;(&lt;/span&gt;desc&lt;span class="p"&gt;(&lt;/span&gt;spanner_length&lt;span class="p"&gt;))&lt;/span&gt; 
  &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  select&lt;span class="p"&gt;(&lt;/span&gt;
    field_start_position&lt;span class="p"&gt;,&lt;/span&gt; field_end_position&lt;span class="p"&gt;,&lt;/span&gt; field_length&lt;span class="p"&gt;,&lt;/span&gt; 
    data_type&lt;span class="p"&gt;,&lt;/span&gt; description&lt;span class="p"&gt;,&lt;/span&gt; comments&lt;span class="p"&gt;,&lt;/span&gt; valid_values&lt;span class="p"&gt;,&lt;/span&gt; spanner&lt;span class="p"&gt;,&lt;/span&gt; rn
  &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  as.data.frame&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in eval(expr, envir, enclos): object &amp;#39;with_spanners&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;with_rn&lt;span class="o"&gt;$&lt;/span&gt;rn &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; paste0&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;spanner&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; with_rn&lt;span class="o"&gt;$&lt;/span&gt;rn&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in paste0(&amp;quot;spanner&amp;quot;, with_rn$rn): object &amp;#39;with_rn&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#mask NAS&lt;/span&gt;
with_rn&lt;span class="o"&gt;$&lt;/span&gt;spanner &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; ifelse&lt;span class="p"&gt;(&lt;/span&gt;is.na&lt;span class="p"&gt;(&lt;/span&gt;with_rn&lt;span class="o"&gt;$&lt;/span&gt;spanner&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; with_rn&lt;span class="o"&gt;$&lt;/span&gt;spanner&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in ifelse(is.na(with_rn$spanner), &amp;quot;&amp;quot;, with_rn$spanner): object &amp;#39;with_rn&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;head&lt;span class="p"&gt;(&lt;/span&gt;with_rn&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in head(with_rn): object &amp;#39;with_rn&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Using that row number as a key, we can pivot and move each of those spanner values to a new column, using one of the many tools in the &lt;code&gt;reshape2&lt;/code&gt; &lt;a href="http://www.cookbook-r.com/Manipulating_data/Converting_data_between_wide_and_long_format/#from-long-to-wide"&gt;toolbox&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;layout_wide &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; dcast&lt;span class="p"&gt;(&lt;/span&gt;
  data &lt;span class="o"&gt;=&lt;/span&gt; with_rn&lt;span class="p"&gt;,&lt;/span&gt;
  formula &lt;span class="o"&gt;=&lt;/span&gt; field_start_position &lt;span class="o"&gt;+&lt;/span&gt; field_end_position &lt;span class="o"&gt;+&lt;/span&gt; field_length &lt;span class="o"&gt;+&lt;/span&gt;
    data_type &lt;span class="o"&gt;+&lt;/span&gt; description &lt;span class="o"&gt;+&lt;/span&gt; comments &lt;span class="o"&gt;+&lt;/span&gt; valid_values &lt;span class="o"&gt;~&lt;/span&gt; rn&lt;span class="p"&gt;,&lt;/span&gt;
  value.var &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;spanner&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in match(x, table, nomatch = 0L): object &amp;#39;with_rn&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#this appears to be a bug in dcast?  should not be needed.&lt;/span&gt;
layout_wide&lt;span class="o"&gt;$&lt;/span&gt;spanner2 &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; ifelse&lt;span class="p"&gt;(&lt;/span&gt;is.na&lt;span class="p"&gt;(&lt;/span&gt;layout_wide&lt;span class="o"&gt;$&lt;/span&gt;spanner2&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;spanner2&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in ifelse(is.na(layout_wide$spanner2), &amp;quot;&amp;quot;, layout_wide$spanner2): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;layout_wide&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in eval(expr, envir, enclos): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Success!  Now we just concatenate &lt;code&gt;description&lt;/code&gt;, &lt;code&gt;spanner1&lt;/code&gt;, and &lt;code&gt;spanner2&lt;/code&gt; into a single value, do a little cleanup, and we have our headers.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; layout_wide &lt;span class="o"&gt;%$%&lt;/span&gt; paste&lt;span class="p"&gt;(&lt;/span&gt;spanner1&lt;span class="p"&gt;,&lt;/span&gt; spanner2&lt;span class="p"&gt;,&lt;/span&gt; description&lt;span class="p"&gt;,&lt;/span&gt; sep&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in eval(expr, envir, enclos): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#kill double underscores&lt;/span&gt;
layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; gsub&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in gsub(&amp;quot;__&amp;quot;, &amp;quot;_&amp;quot;, layout_wide$final_name): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#kill leading or trailer underscores&lt;/span&gt;
layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; gsub&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;(^_+|_+$)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in gsub(&amp;quot;(^_+|_+$)&amp;quot;, &amp;quot;&amp;quot;, layout_wide$final_name): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#all whitespace becomes underscore&lt;/span&gt;
layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; gsub&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in gsub(&amp;quot; &amp;quot;, &amp;quot;_&amp;quot;, layout_wide$final_name): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;head&lt;span class="p"&gt;(&lt;/span&gt;layout_wide&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in head(layout_wide): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we can hand our data frame of headers back to fwf using &lt;code&gt;fwf_positions&lt;/code&gt; and get meaningful data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sample_file &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://www.state.nj.us/education/schools/achievement/14/njask8/state_summary.txt&amp;quot;&lt;/span&gt;

njask14_gr8 &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; readr&lt;span class="o"&gt;::&lt;/span&gt;read_fwf&lt;span class="p"&gt;(&lt;/span&gt;
  file &lt;span class="o"&gt;=&lt;/span&gt; sample_file&lt;span class="p"&gt;,&lt;/span&gt;
  col_positions &lt;span class="o"&gt;=&lt;/span&gt; readr&lt;span class="o"&gt;::&lt;/span&gt;fwf_positions&lt;span class="p"&gt;(&lt;/span&gt;
    start &lt;span class="o"&gt;=&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;field_start_position&lt;span class="p"&gt;,&lt;/span&gt;
    end &lt;span class="o"&gt;=&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;field_end_position&lt;span class="p"&gt;,&lt;/span&gt;
    col_names &lt;span class="o"&gt;=&lt;/span&gt; layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name
  &lt;span class="p"&gt;),&lt;/span&gt;
  na &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in stopifnot(length(start) == length(end)): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;success!
let's look at just a sample of 10 rows and 10 columns from that:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;dplyr&lt;span class="o"&gt;::&lt;/span&gt;sample_n&lt;span class="p"&gt;(&lt;/span&gt;njask14_gr8&lt;span class="p"&gt;[,&lt;/span&gt; sample&lt;span class="p"&gt;(&lt;/span&gt;c&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;551&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt; as.data.frame&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error: Sample size (10) greater than population size (0). Do you want replace = TRUE?
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In the next post, we'll talk about how to turn this linear script into a function that can process all of the state data.&lt;/p&gt;
&lt;h1&gt;appendix: all 551 headers&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;layout_wide&lt;span class="o"&gt;$&lt;/span&gt;final_name
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;## Error in eval(expr, envir, enclos): object &amp;#39;layout_wide&amp;#39; not found
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Martin</dc:creator><pubDate>Fri, 10 Apr 2015 00:00:00 -0400</pubDate><guid>tag:almart.in,2015-04-10:reading-njask-data-1.html</guid><category>NJ</category><category>NJASK</category><category>data_management</category><category>technical</category></item><item><title>just a sample rmd</title><link>http://almart.in/sample-rmd.html</link><description>&lt;!-- PELICAN_END_SUMMARY --&gt;

&lt;h2&gt;an out-of-the-box sample RStudio RMD, to test &lt;a href="https://github.com/getpelican/pelican-plugins/tree/master/rmd_reader"&gt;&lt;code&gt;rmd_reader&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see &lt;a href="http://rmarkdown.rstudio.com"&gt;http://rmarkdown.rstudio.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When you click the &lt;strong&gt;Knit&lt;/strong&gt; button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;summary&lt;span class="p"&gt;(&lt;/span&gt;cars&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can also embed plots, for example:&lt;/p&gt;
&lt;p&gt;&lt;img alt="plot of chunk unnamed-chunk-3" src="http://almart.in/figure/unnamed-chunk-3-1.svg" /&gt; &lt;/p&gt;
&lt;p&gt;Note that the &lt;code&gt;echo = FALSE&lt;/code&gt; parameter was added to the code chunk to prevent printing of the R code that generated the plot.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Martin</dc:creator><pubDate>Fri, 10 Apr 2015 00:00:00 -0400</pubDate><guid>tag:almart.in,2015-04-10:sample-rmd.html</guid></item><item><title>test post</title><link>http://almart.in/will-it-blend.html</link><description>&lt;p&gt;just a test post to see if pelican works...
&lt;img src="https://d2x83fpq8bsx3q.cloudfront.net/wp-content/uploads/2012/11/Tom-on-WIB-Set-Promo-Pics-Small-Jun14-12-21.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Martin</dc:creator><pubDate>Fri, 10 Apr 2015 00:00:00 -0400</pubDate><guid>tag:almart.in,2015-04-10:will-it-blend.html</guid></item></channel></rss>